import os
import http
import json
from datetime import date


def get_odds():
    # conn = http.client.HTTPSConnection("sportspage-feeds.p.rapidapi.com")
    # key = os.environ["API_KEY"]
    # headers = {
    #     'X-RapidAPI-Key': key,
    #     'X-RapidAPI-Host': "sportspage-feeds.p.rapidapi.com"
    # }
    # today = str(date.today())
    # conn.request("GET", "/games?odds=moneyline&status=scheduled&league=MLB&date="+today, headers=headers)
    #
    # res = conn.getresponse()
    # data = res.read()
    # dataStr = data.decode("utf-8").replace("'", '"')
    dataStr = '{"status":200,"time":"2023-08-18T14:02:48.633Z","games":15,"skip":0,"results":[{"summary":"Kansas City Royals @ Chicago Cubs","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":false,"divisionGame":false},"schedule":{"date":"2023-08-18T18:20:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Kansas City Royals","location":"Kansas City","mascot":"Royals","abbreviation":"KC","conference":"American League","division":"Central"},"home":{"team":"Chicago Cubs","location":"Chicago","mascot":"Cubs","abbreviation":"CHC","conference":"National League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.345Z","gameId":296835,"venue":{"name":"Wrigley Field","neutralSite":false,"city":"Chicago","state":"IL"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-130,"homeOdds":110},"current":{"away":1.5,"home":-1.5,"awayOdds":-135,"homeOdds":115}},"moneyline":{"open":{"awayOdds":155,"homeOdds":-185},"current":{"awayOdds":151,"homeOdds":-181}},"total":{"open":{"total":8.5,"overOdds":-120,"underOdds":-100},"current":{"total":9,"overOdds":100,"underOdds":-120}},"openDate":"2023-08-17T22:42:12.446Z","lastUpdated":"2023-08-18T13:58:36.505Z"}]},{"schedule":{"date":"2023-08-18T20:10:00.000Z","tbaTime":false},"summary":"Detroit Tigers @ Cleveland Guardians","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":true},"status":"scheduled","teams":{"away":{"team":"Detroit Tigers","location":"Detroit","mascot":"Tigers","abbreviation":"DET","conference":"American League","division":"Central"},"home":{"team":"Cleveland Guardians","location":"Cleveland","mascot":"Guardians","abbreviation":"CLE","conference":"American League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.394Z","gameId":301844,"venue":{"name":"Progressive Field","city":"Cleveland","state":"OH","neutralSite":false},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-210,"homeOdds":175},"current":{"away":1.5,"home":-1.5,"awayOdds":-210,"homeOdds":175}},"moneyline":{"open":{"awayOdds":102,"homeOdds":-122},"current":{"awayOdds":103,"homeOdds":-123}},"total":{"open":{"total":7.5,"overOdds":-110,"underOdds":-110},"current":{"total":7.5,"overOdds":100,"underOdds":-120}},"openDate":"2023-08-18T13:39:18.108Z","lastUpdated":"2023-08-18T13:58:36.555Z"}]},{"summary":"Toronto Blue Jays @ Cincinnati Reds","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":false,"divisionGame":false},"schedule":{"date":"2023-08-18T22:40:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Toronto Blue Jays","location":"Toronto","mascot":"Blue Jays","abbreviation":"TOR","conference":"American League","division":"East"},"home":{"team":"Cincinnati Reds","location":"Cincinnati","mascot":"Reds","abbreviation":"CIN","conference":"National League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.510Z","gameId":296836,"venue":{"name":"Great American Ball Park","neutralSite":false,"city":"Cincinnati","state":"OH"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":-105,"homeOdds":-115},"current":{"away":-1.5,"home":1.5,"awayOdds":100,"homeOdds":-120}},"moneyline":{"open":{"awayOdds":-162,"homeOdds":135},"current":{"awayOdds":-154,"homeOdds":130}},"total":{"open":{"total":10.5,"overOdds":-105,"underOdds":-115},"current":{"total":10.5,"overOdds":-110,"underOdds":-110}},"openDate":"2023-08-18T02:27:02.904Z","lastUpdated":"2023-08-18T13:58:36.614Z"}]},{"summary":"Philadelphia Phillies @ Washington Nationals","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":true},"schedule":{"date":"2023-08-18T23:05:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Philadelphia Phillies","location":"Philadelphia","mascot":"Phillies","abbreviation":"PHI","conference":"National League","division":"East"},"home":{"team":"Washington Nationals","location":"Washington","mascot":"Nationals","abbreviation":"WSH","conference":"National League","division":"East"}},"lastUpdated":"2023-08-18T14:02:19.561Z","gameId":296837,"venue":{"name":"Nationals Park","neutralSite":false,"city":"Washington","state":"DC"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":-115,"homeOdds":-110},"current":{"away":-1.5,"home":1.5,"awayOdds":-120,"homeOdds":-105}},"moneyline":{"open":{"awayOdds":-184,"homeOdds":154},"current":{"awayOdds":-197,"homeOdds":164}},"total":{"open":{"total":9,"overOdds":-110,"underOdds":-115},"current":{"total":9,"overOdds":-110,"underOdds":-110}},"openDate":"2023-08-17T23:55:58.737Z","lastUpdated":"2023-08-18T13:58:36.676Z"}]},{"summary":"Detroit Tigers @ Cleveland Guardians","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":true},"schedule":{"date":"2023-08-18T23:10:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Detroit Tigers","location":"Detroit","mascot":"Tigers","abbreviation":"DET","conference":"American League","division":"Central"},"home":{"team":"Cleveland Guardians","location":"Cleveland","mascot":"Guardians","abbreviation":"CLE","conference":"American League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.452Z","gameId":296839,"venue":{"name":"Progressive Field","neutralSite":false,"city":"Cleveland","state":"OH"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-155,"homeOdds":130},"current":{"away":1.5,"home":-1.5,"awayOdds":-205,"homeOdds":165}},"moneyline":{"open":{"awayOdds":140,"homeOdds":-166},"current":{"awayOdds":110,"homeOdds":-130}},"total":{"open":{"total":8,"overOdds":-115,"underOdds":-110},"current":{"total":8.5,"overOdds":-115,"underOdds":-110}},"openDate":"2023-08-18T11:16:12.746Z","lastUpdated":"2023-08-18T13:51:08.267Z"}]},{"summary":"San Francisco Giants @ Atlanta Braves","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":false},"schedule":{"date":"2023-08-18T23:20:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"San Francisco Giants","location":"San Francisco","mascot":"Giants","abbreviation":"SF","conference":"National League","division":"West"},"home":{"team":"Atlanta Braves","location":"Atlanta","mascot":"Braves","abbreviation":"ATL","conference":"National League","division":"East"}},"lastUpdated":"2023-08-18T14:02:19.653Z","gameId":296840,"venue":{"name":"Truist Park","neutralSite":false,"city":"Atlanta","state":"GA"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-125,"homeOdds":-105},"current":{"away":1.5,"home":-1.5,"awayOdds":-115,"homeOdds":-105}},"moneyline":{"open":{"awayOdds":183,"homeOdds":-219},"current":{"awayOdds":189,"homeOdds":-228}},"total":{"open":{"total":8.5,"overOdds":-110,"underOdds":-110},"current":{"total":8.5,"overOdds":-115,"underOdds":-100}},"openDate":"2023-08-17T23:55:58.837Z","lastUpdated":"2023-08-18T13:58:36.733Z"}]},{"summary":"Milwaukee Brewers @ Texas Rangers","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":false,"divisionGame":false},"schedule":{"date":"2023-08-19T00:05:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Milwaukee Brewers","location":"Milwaukee","mascot":"Brewers","abbreviation":"MIL","conference":"National League","division":"Central"},"home":{"team":"Texas Rangers","location":"Texas","mascot":"Rangers","abbreviation":"TEX","conference":"American League","division":"West"}},"lastUpdated":"2023-08-18T14:02:19.707Z","gameId":296841,"venue":{"name":"Globe Life Field","neutralSite":false,"city":"Arlington","state":"TX"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":155,"homeOdds":-190},"current":{"away":-1.5,"home":1.5,"awayOdds":155,"homeOdds":-190}},"moneyline":{"open":{"awayOdds":-106,"homeOdds":-113},"current":{"awayOdds":103,"homeOdds":-122}},"total":{"open":{"total":8,"overOdds":-120,"underOdds":-105},"current":{"total":8,"overOdds":-110,"underOdds":-110}},"openDate":"2023-08-17T23:55:58.906Z","lastUpdated":"2023-08-18T13:58:36.811Z"}]},{"summary":"Seattle Mariners @ Houston Astros","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":true},"schedule":{"date":"2023-08-19T00:10:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Seattle Mariners","location":"Seattle","mascot":"Mariners","abbreviation":"SEA","conference":"American League","division":"West"},"home":{"team":"Houston Astros","location":"Houston","mascot":"Astros","abbreviation":"HOU","conference":"American League","division":"West"}},"lastUpdated":"2023-08-18T14:02:19.752Z","gameId":296843,"venue":{"name":"Minute Maid Park","neutralSite":false,"city":"Houston","state":"TX"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-175,"homeOdds":140},"current":{"away":1.5,"home":-1.5,"awayOdds":-170,"homeOdds":140}},"moneyline":{"open":{"awayOdds":124,"homeOdds":-145},"current":{"awayOdds":128,"homeOdds":-153}},"total":{"open":{"total":9,"overOdds":-115,"underOdds":-110},"current":{"total":8.5,"overOdds":-115,"underOdds":-105}},"openDate":"2023-08-17T23:55:59.025Z","lastUpdated":"2023-08-18T13:58:36.947Z"}]},{"summary":"Pittsburgh Pirates @ Minnesota Twins","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":false,"divisionGame":false},"schedule":{"date":"2023-08-19T00:10:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Pittsburgh Pirates","location":"Pittsburgh","mascot":"Pirates","abbreviation":"PIT","conference":"National League","division":"Central"},"home":{"team":"Minnesota Twins","location":"Minnesota","mascot":"Twins","abbreviation":"MIN","conference":"American League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.797Z","gameId":296845,"venue":{"name":"Target Field","neutralSite":false,"city":"Minneapolis","state":"MN"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-110,"homeOdds":-110},"current":{"away":1.5,"home":-1.5,"awayOdds":-105,"homeOdds":-115}},"moneyline":{"open":{"awayOdds":190,"homeOdds":-229},"current":{"awayOdds":191,"homeOdds":-232}},"total":{"open":{"total":8.5,"overOdds":-115,"underOdds":-110},"current":{"total":8.5,"overOdds":-105,"underOdds":-115}},"openDate":"2023-08-17T23:55:58.966Z","lastUpdated":"2023-08-18T13:58:36.886Z"}]},{"summary":"New York Mets @ St. Louis Cardinals","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":false},"schedule":{"date":"2023-08-19T00:15:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"New York Mets","location":"New York","mascot":"Mets","abbreviation":"NYM","conference":"National League","division":"East"},"home":{"team":"St. Louis Cardinals","location":"St. Louis","mascot":"Cardinals","abbreviation":"STL","conference":"National League","division":"Central"}},"lastUpdated":"2023-08-18T14:02:19.838Z","gameId":296847,"venue":{"name":"Busch Stadium","neutralSite":false,"city":"St. Louis","state":"MO"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-170,"homeOdds":140},"current":{"away":1.5,"home":-1.5,"awayOdds":-170,"homeOdds":140}},"moneyline":{"open":{"awayOdds":116,"homeOdds":-139},"current":{"awayOdds":122,"homeOdds":-145}},"total":{"open":{"total":9.5,"overOdds":-110,"underOdds":-110},"current":{"total":9.5,"overOdds":-100,"underOdds":-120}},"openDate":"2023-08-18T09:52:20.184Z","lastUpdated":"2023-08-18T13:58:37.007Z"}]},{"summary":"Chicago White Sox @ Colorado Rockies","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":false,"divisionGame":false},"schedule":{"date":"2023-08-19T00:40:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Chicago White Sox","location":"Chicago","mascot":"White Sox","abbreviation":"CWS","conference":"American League","division":"Central"},"home":{"team":"Colorado Rockies","location":"Colorado","mascot":"Rockies","abbreviation":"COL","conference":"National League","division":"West"}},"lastUpdated":"2023-08-18T14:02:19.882Z","gameId":296849,"venue":{"name":"Coors Field","neutralSite":false,"city":"Denver","state":"CO"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":120,"homeOdds":-150},"current":{"away":-1.5,"home":1.5,"awayOdds":140,"homeOdds":-170}},"moneyline":{"open":{"awayOdds":-119,"homeOdds":101},"current":{"awayOdds":-103,"homeOdds":-116}},"total":{"open":{"total":12.5,"overOdds":-105,"underOdds":-110},"current":{"total":12,"overOdds":-110,"underOdds":-110}},"openDate":"2023-08-17T23:55:59.087Z","lastUpdated":"2023-08-18T13:58:37.084Z"}]},{"summary":"Tampa Bay Rays @ Los Angeles Angels","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":false},"schedule":{"date":"2023-08-19T01:38:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Tampa Bay Rays","location":"Tampa Bay","mascot":"Rays","abbreviation":"TB","conference":"American League","division":"East"},"home":{"team":"Los Angeles Angels","location":"Los Angeles","mascot":"Angels","abbreviation":"LAA","conference":"American League","division":"West"}},"lastUpdated":"2023-08-18T14:02:19.935Z","gameId":296851,"venue":{"name":"Angel Stadium","neutralSite":false,"city":"Anaheim","state":"CA"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":155,"homeOdds":-190},"current":{"away":-1.5,"home":1.5,"awayOdds":145,"homeOdds":-180}},"moneyline":{"open":{"awayOdds":-102,"homeOdds":-116},"current":{"awayOdds":-107,"homeOdds":-111}},"total":{"open":{"total":9.5,"overOdds":-110,"underOdds":-110},"current":{"total":9.5,"overOdds":-105,"underOdds":-120}},"openDate":"2023-08-17T23:55:59.137Z","lastUpdated":"2023-08-18T13:58:37.143Z"}]},{"summary":"Arizona Diamondbacks @ San Diego Padres","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":true},"schedule":{"date":"2023-08-19T01:40:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Arizona Diamondbacks","location":"Arizona","mascot":"Diamondbacks","abbreviation":"ARI","conference":"National League","division":"West"},"home":{"team":"San Diego Padres","location":"San Diego","mascot":"Padres","abbreviation":"SD","conference":"National League","division":"West"}},"lastUpdated":"2023-08-18T14:02:19.967Z","gameId":296853,"venue":{"name":"Petco Park","neutralSite":false,"city":"San Diego","state":"CA"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-145,"homeOdds":115},"current":{"away":1.5,"home":-1.5,"awayOdds":-140,"homeOdds":120}},"moneyline":{"open":{"awayOdds":153,"homeOdds":-182},"current":{"awayOdds":149,"homeOdds":-178}},"total":{"open":{"total":8.5,"overOdds":-110,"underOdds":-110},"current":{"total":8.5,"overOdds":-120,"underOdds":100}},"openDate":"2023-08-17T23:55:59.180Z","lastUpdated":"2023-08-18T13:58:37.216Z"}]},{"summary":"Baltimore Orioles @ Oakland Athletics","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":false},"schedule":{"date":"2023-08-19T01:40:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Baltimore Orioles","location":"Baltimore","mascot":"Orioles","abbreviation":"BAL","conference":"American League","division":"East"},"home":{"team":"Oakland Athletics","location":"Oakland","mascot":"Athletics","abbreviation":"OAK","conference":"American League","division":"West"}},"lastUpdated":"2023-08-18T14:02:20.001Z","gameId":296855,"venue":{"name":"Oakland-Alameda County Coliseum","neutralSite":false,"city":"Oakland","state":"CA"},"odds":[{"spread":{"open":{"away":-1.5,"home":1.5,"awayOdds":-110,"homeOdds":-115},"current":{"away":-1.5,"home":1.5,"awayOdds":-110,"homeOdds":-110}},"moneyline":{"open":{"awayOdds":-186,"homeOdds":155},"current":{"awayOdds":-182,"homeOdds":151}},"total":{"open":{"total":8.5,"overOdds":-110,"underOdds":-105},"current":{"total":8.5,"overOdds":-115,"underOdds":-105}},"openDate":"2023-08-17T23:55:59.238Z","lastUpdated":"2023-08-18T13:58:37.272Z"}]},{"summary":"Miami Marlins @ Los Angeles Dodgers","details":{"league":"MLB","seasonType":"regular","season":2023,"conferenceGame":true,"divisionGame":false},"schedule":{"date":"2023-08-19T02:10:00.000Z","tbaTime":false},"status":"scheduled","teams":{"away":{"team":"Miami Marlins","location":"Miami","mascot":"Marlins","abbreviation":"MIA","conference":"National League","division":"East"},"home":{"team":"Los Angeles Dodgers","location":"Los Angeles","mascot":"Dodgers","abbreviation":"LAD","conference":"National League","division":"West"}},"lastUpdated":"2023-08-18T14:02:20.039Z","gameId":296857,"venue":{"name":"Dodger Stadium","neutralSite":false,"city":"Los Angeles","state":"CA"},"odds":[{"spread":{"open":{"away":1.5,"home":-1.5,"awayOdds":-185,"homeOdds":150},"current":{"away":1.5,"home":-1.5,"awayOdds":-180,"homeOdds":155}},"moneyline":{"open":{"awayOdds":120,"homeOdds":-142},"current":{"awayOdds":117,"homeOdds":-140}},"total":{"open":{"total":8.5,"overOdds":-100,"underOdds":-115},"current":{"total":8.5,"overOdds":-105,"underOdds":-110}},"openDate":"2023-08-17T23:55:59.288Z","lastUpdated":"2023-08-18T13:58:37.322Z"}]}]}'
    dataList = json.loads(dataStr)

    return dataList